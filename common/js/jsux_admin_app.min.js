/*! Copyright (C) StreamUX <http://www.streamux.com> */
/**!
 * @concat js in common 
 * project sux
 * date 05-04-2018
 * @brief jsux Common Javascript
 **/
$(document).ready(function(){var a=new SXAdminMobilePanel;a.init();var b=new SXAdminMenu;b.init()});var SXAdminMenu=function(){var a=null,b=this;this.init=function(){this.setEvent()},this.setEvent=function(){var c=$(".sx-gnb > li > a"),d=$(".sx-drap-menu"),e=null;c.on("click",function(e){var f=c.index(this),g=d[f];$(g).children().length>0&&(b.showSubMenu(g),e.preventDefault()),a&&a!==g&&b.hideSubMenu(a),a=g}),c.on("touchstart",function(a){a.preventDefault();var c=$(this);b.addClass(c[0],"active"),e&&b.removeClass(e[0],"active");var d=c.attr("href"),f=$(this).attr("target");f=f?f:"_self",d&&d.match("#")!==!0&&jsux.goURL(d,f),e=c});var f=$(".sx-gnb li a");f.on("focus",function(c){c.preventDefault();var e=$(c.target).parent().parent().parent(),f=e.attr("class"),g=$(this).parent().index();f.match(/^sx-sub-case/i)&&(g=$(e.parent()).index());var h=d[g];$(h).children().length>0&&b.showSubMenu(h),a&&a!==h&&b.hideSubMenu(a),a=h}),$("body").on("click",function(c){return c.target.nodeName&&"A"===c.target.nodeName.toUpperCase()?void c.stopImmediatePropagation():(b.hideSubMenu(a),void(a=null))})},this.removeClass=function(a,b){var c=$(a);c.hasClass(b)&&c.removeClass(b)},this.addClass=function(a,b){var c=$(a);c.hasClass(b)||c.addClass(b)},this.showSubMenu=function(b){if(a!==b){this.removeClass(b,"sx-slide-out"),this.addClass(b,"sx-slide-in");var c=$(b),d=c.css("height").replace("px",""),e=$(c.parent());e.css("height",d),this.removeClass(c.parent(),"sx-slide-out"),this.addClass(c.parent(),"sx-slide-in")}},this.hideSubMenu=function(a){if(a){var b=$(a);this.hideSubCase(b),this.removeClass(a,"sx-slide-in"),this.addClass(a,"sx-slide-out")}},this.hideSubCase=function(a){var b=$(a.parent());b.css("height",0),this.removeClass(a.parent(),"sx-slide-in"),this.addClass(a.parent(),"sx-slide-out")}},SXAdminMobilePanel=function(){var a=this,b=!0;this.removeClass=function(a,b){var c=$(a);c.hasClass(b)&&c.removeClass(b)},this.addClass=function(a,b){var c=$(a);c.hasClass(b)||c.addClass(b)},this.hideMobileMenu=function(){var b={"margin-top":10,"margin-bottom":-2},c=500,d="easeOutExpo";$(".sx-menu-btn").animate({opacity:0},c,d,function(){a.showCloseBtn()}),$(".sx-menu-btn .sx-menu > li:first-child").animate(b,c,d),b={"margin-top":0,"margin-bottom":0},$(".sx-menu-btn .sx-menu > li:nth-child(2)").animate(b,c,d),b={"margin-top":-2,"margin-bottom":10},$(".sx-menu-btn .sx-menu > li:last-child").animate(b,c,d)},this.showMobileMenu=function(){var a={"margin-top":5,"margin-bottom":5},b=300,c="easeOutExpo";$(".sx-menu-btn").animate({opacity:1},b,c),$(".sx-menu-btn .sx-menu > li:first-child").animate(a,b,c),$(".sx-menu-btn .sx-menu > li:nth-child(2)").animate(a,b,c),$(".sx-menu-btn .sx-menu > li:last-child").animate(a,b,c)},this.hideCloseBtn=function(){this.removeClass(".sx-close-btn","sx-close-inactive"),this.removeClass(".sx-header","sx-header-active"),this.removeClass(".sx-bgcover","sx-bgcover-active")},this.showCloseBtn=function(){this.addClass(".sx-close-btn","sx-close-active")},this.slideInGnbPanel=function(){this.addClass(".sx-header","sx-header-active"),this.addClass(".sx-gnb-case","sx-slide-in"),this.addClass(".sx-bgcover","sx-bgcover-active"),this.addClass("html","sx-hide-scroll"),this.hideMobileMenu(),this.removeTransitionEnd(),b=!1},this.slideOutGnbPanel=function(){this.removeClass(".sx-gnb-case","sx-slide-in"),this.removeClass(".sx-close-btn","sx-close-active"),this.removeClass("html","sx-hide-scroll"),this.addClass(".sx-close-btn","sx-close-inactive"),this.addTransitionEnd()},this.addTransitionEnd=function(){var c=$(".sx-gnb-case");c.on("transitionend",function(c){a.removeTransitionEnd(),a.showMobileMenu(),a.hideNavPanel(),a.hideCloseBtn(),b=!0})},this.removeTransitionEnd=function(){var a=$(".sx-gnb-case");a.off("transitionend")},this.showNavPanel=function(){this.addClass(".sx-nav-bar","sx-nav-active")},this.hideNavPanel=function(){this.removeClass(".sx-nav-bar","sx-nav-active")},this.setEvent=function(){var a=this;$(".sx-menu-btn").on("click",function(){b&&(a.showNavPanel(),a.slideInGnbPanel())}),$(".sx-bgcover").on("click",function(){a.slideOutGnbPanel()}),$(".sx-close-btn").on("click",function(){a.slideOutGnbPanel()}),$(window).on("keyup",function(b){var c=$(b.target).attr("class");c&&c.match("sx-menu-btn")&&"Tab"===b.key&&b.shiftKey===!1&&$(".sx-menu-btn").trigger("click"),a.oldTarget&&a.oldTarget.match("sx-menu-btn")&&"Tab"===b.key&&b.shiftKey===!0&&$(".sx-close-btn").trigger("click"),a.oldTarget&&a.oldTarget.match("sx-close-btn")&&"Tab"===b.key&&b.shiftKey===!1&&$(".sx-close-btn").trigger("click"),c&&c.match("sx-close-btn")&&"Tab"===b.key&&b.shiftKey===!0&&$(".sx-menu-btn").trigger("click"),a.oldTarget=c})},this.init=function(){this.setEvent()}};