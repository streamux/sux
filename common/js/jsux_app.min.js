/*! Copyright (C) StreamUX <http://www.streamux.com> */
/**!
 * @concat js in common 
 * project sux
 * date 06-01-2019
 * @brief jsux Common Javascript
 **/
jsux.gnb=jsux.gnb||{},jsux.gnb.Model=jsux.Model.create(),function(a,b){a.include({sizeList:[],setData:function(a){this.setChanged(),this.notifyObserver(a)},activate:function(a,b){for(var c=this.observers.length,d=0;d<c;d++)this.observers[d].activate(a,b)},menuOn:function(a,b){for(var c=this.observers.length,d=0;d<c;d++)this.observers[d].menuOn(a,b)},menuOff:function(){for(var a=this.observers.length,b=0;b<a;b++)this.observers[b].menuOff()},tick:function(){for(var a=this.observers.length,b=0;b<a;b++)this.observers[b].tick()},getSizeList:function(){return this.sizeList},setSizeList:function(a){this.sizeList=a},resetUI:function(){for(var a=this.observers.length,b=0;b<a;b++)this.observers[b].resetUI()}}),a.create=function(){return new jsux.gnb.Model}}(jsux.gnb.Model,jQuery),jsux.gnb=jsux.gnb||{},jsux.gnb.Menu=jsux.View.create(),function(a,b){var c=function(a,c){var d=this,e=a,f=b(a),g=null,h=[],i=c,j="",k=-1,l=null;this.addClass=function(a,c){b(a).hasClass(c)||b(a).addClass(c)},this.removeClass=function(a,c){b(a).hasClass(c)&&b(a).removeClass(c)},this.update=function(a,b){g=b},this.resetUI=function(){this.setUI(),this.setEvent()},this.setUI=function(){var a=b("#gnbMenuItem").html(),c=0,d=/^(http(s)?:\/\/(www\.)?)?([a-zA-Z0-9-_]+)\.([a-zA-Z]+)/,f=b(e);if(!(f&&f.children().length>0)){b(e).empty();var h=function(e,f){b(f).each(function(g){var h=b(a).appendTo(e);h.attr("data-id",g),h.attr("data-depth",c);var i=h.find("> a"),j=f[g].link;d.test(j)||(j=jsux.rootPath+j),i.attr("href",j),i.attr("target",f[g].link_target),i.text(f[g].label),f[g].depth=c,f[g].target=e});for(var g=0;g<f.length;g++)f[g].menu&&f[g].menu.length>0&&(c=f[g].depth+1,e=f[g].target+"> li:eq("+g+") > .sub_mask > ul",arguments.callee(e,f[g].menu))};h(e,g),h=null}},this.alignUI=function(){var a=f.outerWidth(),c=0,d=0,e=0,j=0,k=[];h=f.find("> .sx-menu"),b(h).each(function(a){c+=b(this).find("> a").outerWidth()}),d=Math.floor((a-c)/g.length),b(h).each(function(c){e=Math.floor(100/(a-0)*(b(this).find("> a").outerWidth()+d-0)+0),c==h.length-1&&(e=100-j),j+=e,b(this).css("width",e+"%"),k.push(e)}),i.setSizeList(k)},this.getActivatedId=function(a){var b=[],c=function(a){var c=a.data("depth"),d=a.data("id");b.unshift(d),a&&c&&c>=0&&arguments.callee(a.parent().parent().parent())};return c(a),c=null,b},this.setEvent=function(){f.find(".sx-menu > a").on("focus",function(a){d.stopTimer();var c=d.getActivatedId(b(this).parent()).toString(",");i.menuOn(c)}),f.find(".sx-menu > a").on("mouseover",function(a){d.stopTimer();var c=d.getActivatedId(b(this).parent()).toString(",");i.menuOn(c)}),f.find(".sx-menu > a").on("blur",function(a){d.startTimer()}),f.find(".sx-menu > a").on("mouseout",function(a){d.startTimer()}),f.find(".sx-menu > a").on("click",function(a){a.preventDefault();var c=b(this).attr("href"),d=b(this).attr("target");"#none"!==c&&""!==c&&void 0!==c&&(d=d?d:"_self",jsux.goURL(c,d))})},this.menuOn=function(a){d.mouseHandler({type:"mouseover",active_ids:a})},this.menuOff=function(){d.mouseHandler({type:"mouseout"})},this.mouseHandler=function(a){var c=this,d=a.type,e=a.active_ids?a.active_ids:[],f="string"==typeof e?e.split(","):e,g=f.length,h=0,i=b(".sx-gnb");switch(d){case"mouseover":var j=function(a){var d=a.find("> .sx-menu");d.each(function(a){var d=b(this);d.data("id")==f[h]?(c.addClass(d.find("> a"),"active"),d.find("> .sub_mask > ul").children().length>0&&c.addClass(d.find("> .sub_mask"),"sub_mask_active"),l&&d.data("depth")<l.data("depth")&&(c.removeClass(l.find("> a"),"active"),c.removeClass(l.find(".sub_mask"),"sub_mask_active")),l=d):(c.removeClass(d.find("a"),"active"),c.removeClass(d.find(".sub_mask"),"sub_mask_active"))}),h++,h<g&&arguments.callee(d.find("> .sub_mask > ul"))};j(i),j=null;break;case"mouseout":c.removeClass(i.find("a"),"active"),c.removeClass(i.find(".sub_mask"),"sub_mask_active")}i=null},this.activate=function(a){j=a,d.mouseHandler({type:"mouseover",active_ids:a})},this.tween=function(a,b,c){TweenLite&&TweenLite.to(a,b,c)},this.startTimer=function(){k==-1&&(k=setInterval(function(){j?i.menuOn(j):i.menuOff(),d.stopTimer()},500))},this.stopTimer=function(){k&&(clearInterval(k),k=-1)},this.replaceNumber=function(a){return a.replace(/[^(0-9)]/gi,"")}};a.create=function(a,d){return b(a).length<1&&(b(document.body).append('<div id="TEMP_GNB_CASE" class="sx-gnb"></div>'),a="#TEMP_GNB_CASE"),new c(a,d)}}(jsux.gnb.Menu,jQuery),jsux.mobileGnb=jsux.mobileGnb||{},jsux.mobileGnb.Menu=jsux.View.create(),jsux.mobileGnb.Menu.include({_path:"",_m:"",_isClick:!1,_data:null,_startPosX:"100%",_targetPosX:52,_isMobile:!1,_isPc:!1,_swiper:null,addClass:function(a,b){$(a).hasClass(b)||$(a).addClass(b)},removeClass:function(a,b){$(a).hasClass(b)&&$(a).removeClass(b)},update:function(a,b){this._data=b,this.defaultSetting(),this.setUI(),this.setEvent()},resizeUI:function(a){var b=parseInt(a);if(isNaN(b))throw new Error("not a valid number");b<768&&this._isMobile===!1?(this._isMobile=!0,this._isPc=!1,this._isClick===!0&&this.show()):b>=768&&this._isPc===!1&&(this._isMobile=!1,this._isPc=!0,this.hide(),this._m.resetUI()),this._startPosX=b},resetUI:function(){this.setSwiper()},defaultSetting:function(){this._path=jsux.mobileGnb.Menu.path,this._m=jsux.mobileGnb.Menu.m},setSwiper:function(){null===this._swiper&&this._isMobile===!0&&(this._swiper=new Swiper(".swiper-container-mobilegnb",{scrollbar:".swiper-scrollbar-mobilegnb",direction:"vertical",slidesPerView:"auto",mousewheelControl:!0,freeMode:!0}),this._swiper.onResize())},setUI:function(){var a=/^(http(s)?:\/\/(www\.)?)?([a-zA-Z0-9-_]+)\.([a-zA-Z]+)/,b="",c=null,d=0;b=$("#gnbMenuItem").html(),c=$(this._path).empty();var e=function(c,e){$(e).each(function(f){var g=$(b).appendTo(c);g.attr("data-id",f),g.attr("data-depth",d);var h=g.find("> a"),i=e[f].link;a.test(i)||(i=jsux.rootPath+i),h.attr("href",i),h.attr("target",e[f].link_target),h.text(e[f].label),e[f].depth=d,e[f].target=c});for(var f=0;f<e.length;f++)e[f].menu&&e[f].menu.length>0&&(d=e[f].depth+1,c=e[f].target+"> li:eq("+f+") > .sub_mask > ul",arguments.callee(c,e[f].menu))};e(this._path,this._data),e=null},jumpFocus:function(a){$(a).focus()},hideGnbCase:function(){this.addClass(".mobile-gnb-case","mobile-gnb-case-inactive"),this.removeClass(".mobile-gnb-case","mobile-gnb-case-active")},showGnbCase:function(){this.addClass(".mobile-gnb-case","mobile-gnb-case-active"),this.removeClass(".mobile-gnb-case","mobile-gnb-case-inactive")},setEvent:function(){var a=this;$(".mobile-menu-btn").on("mouseover",function(b){a.addClass(".mobile-menu-bg","menu-bg-activate")}),$(".mobile-menu-btn").on("mouseout",function(b){a.removeClass(".mobile-menu-bg","menu-bg-activate")}),$(".mobile-menu-btn").on("click",function(b){a.show(),a.openSlide(),a.hideMobileMenu(),a.jumpFocus(".sx-gnb-login"),a.setSwiper(),a._isClick=!0}),$(".mobile-gnb-case").on("click",function(b){b.preventDefault();var c=$(b.target).attr("href"),d=$(b.target).attr("target");c||(c=$(b.target).parent().attr("href"),d=$(b.target).parent().attr("target")),c&&a.click(c,d)}),$(".menu-btn-close").on("click",function(b){a.closeSlide(),a._isClick=!1}),$(".menu-btn-close").on("blur",function(b){a._isClick!==!1&&(a.closeSlide(),a._isClick=!1)}),$(".menu-btn-close").on("keydown",function(b){var c=b.key.toUpperCase();c.match("Enter")===!0&&a.jumpFocus(".mobile-menu-btn")}),$(".sx-bgcover").on("click",function(b){a.closeSlide(),a._isClick=!1})},tween:function(a,b,c){TweenMax.to(a,b,c)},killTween:function(a){TweenMax.killTweensOf(a)},showCloseX:function(){this.killTween(".menu-btn-close .sx-h-3stick"),this.killTween(".menu-btn-close"),this.tween(".menu-btn-close",1,{opacity:0,useFrames:!0}),this.tween(".menu-btn-close",13,{opacity:1,ease:Expo.easeOut,useFrames:!0}),this.tween(".menu-btn-close .sx-h-3stick",65,{rotation:360,useFrames:!0})},hideCloseX:function(){var a=this;this.killTween(".menu-btn-close .sx-h-3stick"),this.killTween(".menu-btn-close"),this.tween(".menu-btn-close",13,{opacity:0,useFrames:!0,onComplete:$.proxy(a.showMobileMenu,a)}),this.tween(".menu-btn-close .sx-h-3stick",65,{rotation:0,useFrames:!0})},showMobileMenu:function(){var a=this;this.killTween(".mobile-menu-btn .sx-h-3stick"),$(".mobile-menu-btn .sx-h-3stick").find("> li").each(function(b){a.tween(this,21,{opacity:1,useFrames:!0})}),this.tween(".mobile-menu-btn .sx-h-3stick .sx-hline1",21,{y:0,useFrames:!0}),this.tween(".mobile-menu-btn .sx-h-3stick .sx-hline3",21,{y:0,useFrames:!0})},hideMobileMenu:function(){var a=this;this.killTween(".mobile-menu-btn .sx-h-3stick"),$(".mobile-menu-btn .sx-h-3stick").find("> li").each(function(b){a.tween(this,21,{opacity:0,useFrames:!0})})},openSlide:function(){self=this,$(".mobile-gnb-case").css({transform:"translateX("+this._startPosX+"px)"}),this.killTween(".mobile-menu-btn .sx-h-3stick .sx-hline1"),this.killTween(".mobile-menu-btn .sx-h-3stick .sx-hline3"),this.tween(".mobile-gnb-case",17,{x:this._targetPosX,useFrames:!0,onComplete:$.proxy(self.showCloseX,self)}),this.tween(".mobile-menu-btn .sx-h-3stick .sx-hline1",12,{y:6,useFrames:!0}),this.tween(".mobile-menu-btn .sx-h-3stick .sx-hline3",12,{y:-6,useFrames:!0})},closeSlide:function(){var a=this;this.killTween(".mobile-menu-btn .sx-h-3stick .sx-hline1"),this.killTween(".mobile-menu-btn .sx-h-3stick .sx-hline3"),this.tween(".mobile-gnb-case",17,{x:this._startPosX,useFrames:!0,onComplete:$.proxy(a.hide,a)}),this.hideCloseX()},show:function(){this.showGnbCase(),this.addClass(".sx-bgcover","sx-bgcover-active"),this.addClass(".mobile-gnb-case","mobile-gnb-case-active"),this.addClass("html","sx-hide-scroll"),this.addClass(".wrapper","wrapper-reposition")},hide:function(){this.hideGnbCase(),this.removeClass(".sx-bgcover","sx-bgcover-active"),this.removeClass(".mobile-gnb-case","mobile-gnb-case-active"),this.removeClass("html","sx-hide-scroll"),this.removeClass(".wrapper","wrapper-reposition")},showSitemap:function(){$(".mobile-menu-btn").trigger("click")},click:function(a,b){"#none"!==a&&""!==a&&void 0!==a&&jsux.goURL(a,b)},menuOn:function(){},menuOff:function(){},activate:function(a){}}),jsux.mobileGnb.Menu.extend({create:function(a,b){if($(a).length<1){var c='<ul id="mobileGnb" class="sx-menu-panel"></ul>';$(document.body).append(c),this.path="#mobileGnb"}else this.path=a;return this.m=b,new jsux.mobileGnb.Menu}}),jsux.app=jsux.app||{},function(a,b){a.MainBanner=jsux.View.create(),a.MainBanner.extend({create:function(){var a=null;try{a=new Swiper(".swiper-container-visual",{direction:"horizontal",speed:500,effect:"slide",pagination:".swiper-pagination-visual",paginationClickable:!0,preloadImages:!1,lazyLoading:!0,loop:!0,grabCursor:!1})}catch(a){console.log("Swiper do not exists")}return a}})}(jsux.app,jQuery);