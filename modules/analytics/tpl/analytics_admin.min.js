/*! Copyright (C) StreamUX <http://www.streamux.com> */
/**!
 * @concat js in modules 
 * project sux
 * date 06-01-2019
 * @brief jsux Modules Javascript
 **/
jsux.fn=jsux.fn||{},jsux.fn.connectSiteList={limit:5,limitGroup:5,pagination:jsux.app.getPagination(),listManager:jsux.app.getListManager(),listMobileManager:jsux.app.getListManager(),setLayout:function(){var a=this,b=$("input[name=list_json_path").val(),c={passover:0,limit:this.limit},d=null,e=null;return b?(this.listManager.setResource(b),this.listMobileManager.setResource(b),this.listManager.initialize({id:"#dataList",tmpl:"#dataListTmpl",msg_tmpl:"#warnMsgTmpl"}),this.listMobileManager.initialize({id:"#dataMobileList",tmpl:"#dataListMobileTmpl",msg_tmpl:"#warnMsgMobileTmpl"}),d=function(b){a.listManager.reloadData(b.page,a.limit),a.listMobileManager.reloadData(b.page,a.limit)},e=function(b){var c=b.data;c&&c.list&&c.list.length>0?(a.listManager.setData(c.list),a.listMobileManager.setData(c.list)):(a.listManager.reset(),a.listManager.setMsg(b.msg),a.listMobileManager.reset(),a.listMobileManager.setMsg(b.msg))},this.listManager.addEventListener("loaded",e),this.pagination.addEventListener("change",d),this.pagination.initialize({el:".sx-pagination-group",id:"#paginList",tmpl:"#paginationTmpl",control:{prev:".sx-pagination-group .sx-nav-prev",next:".sx-pagination-group .sx-nav-next"}}),void jsux.getJSON(b,c,function(b){var c=b.data;c&&c.list&&c.list.length>0?(a.pagination.setData({total:c.total_num,limit:a.limit,limitGroup:a.limitGroup}),a.pagination.activateControl()):a.pagination.deactivateControl(),e(b)})):void trace("input[name=list_json_path] 경로값을 입력하세요")},init:function(){this.setLayout()}},jsux.fn.connectSiteAdd={returnUrl:function(){var a=$("input[name=location_back]").val();return a?a:(trace("input[name=location_back] 경로값을 확인해주세요."),"")},checkFormVal:function(a){var b=a.keyword;return!(b.value.length<1)||(trace("접속키워드 이름을 입력하세요."),a.keyword.focus(),!1)},sendJson:function(a){var b=this,c={_method:a._method.value,keyword:a.keyword.value},d=a.action;return d?void jsux.getJSON(d,c,function(a){a.result&&"Y"===a.result.toUpperCase()?jsux.goURL(b.returnUrl()):trace(a.msg)}):void trace("Action URL Don't Exists")},setEvent:function(){var a=this;$("form").on("submit",function(b){b.preventDefault(),a.checkFormVal(b.target)===!0&&a.sendJson(b.target)}),$("#btnCancel").on("click",function(){jsux.goURL(a.returnUrl())})},init:function(){this.setEvent(),jsux.setAutoFocus()}},jsux.fn.connectSiteReset={returnUrl:function(){var a=$("input[name=location_back]").val();return a?a:(trace("input[name=location_back] 경로값을 확인해주세요."),"")},sendJson:function(a){var b=this,c={_method:"update",id:a.id.value,keyword:a.keyword.value},d=a.action;return d?void jsux.getJSON(d,c,function(a){a.result&&"Y"===a.result.toUpperCase()?jsux.goURL(b.returnUrl()):trace(a.msg)}):(trace("Action URL Not Exists"),!1)},setEvent:function(){var a=this;$("form").on("submit",function(b){b.preventDefault(),a.sendJson(b.target)}),$("#btnCancel").on("click",function(){jsux.goURL(a.returnUrl())})},init:function(){this.setEvent()}},jsux.fn.connectSiteDelete={returnUrl:function(){var a=$("input[name=location_back]").val();return a?a:(trace("input[name=location_back] 경로값을 확인해주세요."),"")},sendJson:function(a){var b=this,c={_method:"delete",id:a.id.value,keyword:a.keyword.value},d=a.action;jsux.getJSON(d,c,function(a){a.result&&"Y"===a.result.toUpperCase()?jsux.goURL(b.returnUrl()):trace(a.msg)})},setEvent:function(){var a=this;$("form").on("submit",function(b){b.preventDefault(),a.sendJson(b.target)}),$("#btnCancel").on("click",function(b){b.preventDefault(),jsux.goURL(a.returnUrl())})},init:function(){this.setEvent()}},jsux.fn.pageviewList={limit:10,limitGroup:5,pagination:jsux.app.getPagination(),listManager:jsux.app.getListManager(),listMobileManager:jsux.app.getListManager(),setLayout:function(){var a=this,b=$("input[name=list_json_path").val(),c={passover:0,limit:this.limit},d=null;return b?(a.listManager.setResource(b),a.listMobileManager.setResource(b),a.listManager.initialize({id:"#dataList",tmpl:"#dataListTmpl",msg_tmpl:"#warnMsgTmpl"}),a.listMobileManager.initialize({id:"#dataMobileList",tmpl:"#dataListMobileTmpl",msg_tmpl:"#warnMsgMobileTmpl"}),d=function(b){a.listManager.reloadData(b.page,a.limit),a.listMobileManager.reloadData(b.page,a.limit)},a.pagination.addEventListener("change",d),a.pagination.initialize({el:".sx-pagination-group",id:"#paginList",tmpl:"#paginationTmpl",control:{prev:".sx-pagination-group .sx-nav-prev",next:".sx-pagination-group .sx-nav-next"}}),void jsux.getJSON(b,c,function(b){var c=b.data;c&&c.list&&c.list.length>0?(a.listManager.setData(c.list),a.listMobileManager.setData(c.list),a.pagination.setData({total:c.total_num,limit:a.limit,limitGroup:a.limitGroup}),a.pagination.activateControl()):(a.listManager.reset(),a.listManager.setMsg(b.msg),a.listMobileManager.reset(),a.listMobileManager.setMsg(b.msg),a.pagination.deactivateControl())})):void trace("input[name=list_json_path] 경로값을 입력하세요")},init:function(){this.setLayout()}},jsux.fn.pageviewAdd={returnUrl:function(){var a=$("input[name=location_back]").val();return a?a:(trace("input[name=location_back] 경로값을 확인해주세요."),"")},checkFormVal:function(a){var b=a.keyword;return!(b.value.length<1)||(trace("페이지뷰 키워드를 입력하세요."),a.keyword.focus(),!1)},sendJson:function(a){var b=this,c={_method:"insert",keyword:a.keyword.value},d=a.action;return d?void jsux.getJSON(d,c,function(a){a.result&&"Y"===a.result.toUpperCase()?jsux.goURL(b.returnUrl()):trace(a.msg)}):void trace("Action URL Don't Exists")},setEvent:function(){var a=this;$("form").on("submit",function(b){b.preventDefault(),a.checkFormVal(b.target)===!0&&a.sendJson(b.target)}),$("#btnCancel").on("click",function(){jsux.goURL(a.returnUrl())})},init:function(){this.setEvent(),$("input[name=keyword]").focus()}},jsux.fn.pageviewReset={returnUrl:function(){var a=$("input[name=location_back]").val();return a?a:(trace("input[name=location_back] 경로값을 확인해주세요."),"")},sendJson:function(a){var b=this,c={_method:"update",id:a.id.value,keyword:a.keyword.value},d=a.action;return d?void jsux.getJSON(d,c,function(a){a.result&&"Y"===a.result.toUpperCase()?jsux.goURL(b.returnUrl()):trace(a.msg)}):void trace("Action URL Don't Exists")},setEvent:function(){var a=this;$("form").on("submit",function(b){b.preventDefault(),a.sendJson(b.target)}),$("#btnCancel").on("click",function(b){b.preventDefault(),jsux.goURL(a.returnUrl())})},init:function(){this.setEvent()}},jsux.fn.pageviewDelete={returnUrl:function(){var a=$("input[name=location_back]").val();return a?a:(trace("input[name=location_back] 경로값을 확인해주세요."),"")},sendJson:function(a){var b=this,c={_method:"delete",id:a.id.value,keyword:a.keyword.value},d=a.action;return d?void jsux.getJSON(d,c,function(a){a.result&&"Y"===a.result.toUpperCase()?jsux.goURL(b.returnUrl()):trace(a.msg)}):(trace("Action URL Not Exists"),!1)},setEvent:function(){var a=this;$("form").on("submit",function(b){b.preventDefault(),a.sendJson(b.target)}),$("#btnCancel").on("click",function(b){b.preventDefault(),jsux.goURL(a.returnUrl())})},init:function(){this.setEvent()}};